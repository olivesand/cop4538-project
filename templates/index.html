<!DOCTYPE html>
<html>
<head>
    <title>{{ title }} - Contact Manager</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .card { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>{{ title }}Contact Manager</h1>
    <!-- copilot, please add an "Undo" button-->
    <div style="margin-bottom: 20px;">
        <form action="/undo" method="POST" style="display: inline;">
            <button type="submit">Undo</button>
        </form>
    
    <div style="background-color: #f0f0f0; padding: 15px; margin-top: 20px;">
        <h3>Add New Contact</h3>
        <form action="/add" method="POST">
            <input type="text" name="name" placeholder="Name" required>
            <input type="email" name="email" placeholder="Email" required>
            <button type="submit">Add Contact</button>
        </form>
    </div>
    <!-- copilot, please create a form with a text input named "query" and a "Search" button -->
    <div style="background-color: #f9f9f9; padding: 10px;">
        <h3>Search Contacts</h3>
        <form action="/search" method="GET">
            <input type="text" name="query" placeholder="Search by name" required>
            <button type="submit">Search</button>
        </form>
    </div>
    <hr>
    <div style="background-color: #ffffff; padding: 0px;">
        {% if status == 0 %}
            <h3>Current Contacts</h3>
            {% for contact in contacts %}
                <div class="card">
                    <strong>{{ contact.name }}</strong> - {{ contact.email }}
                    <!-- copilot, please add a "Delete" button that deletes the correlating contact-->
                    <form action="/delete" method="POST" style="display: inline;">
                        <input type="hidden" name="name" value="{{ contact.name }}">
                        <input type="hidden" name="email" value="{{ contact.email }}">
                        <button type="submit">Delete</button>
                    </form>
                </div>
            {% else %}
                <p>No contacts found.</p>
            {% endfor %}
        {% elif status == 1 %}
            <h3>Matching Contact(s)</h3>
            {% for contact in contacts %}
                <div class="card">
                    <strong>{{ contact.name }}</strong> - {{ contact.email }}
                </div>
            {% endfor %}
        {% elif status == 2 %}
            <h3>No Matches Found</h3>
        {% endif %}
    </div>
</body>
</html>